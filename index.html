<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Social Determinants of Health Form</title>
    <style>
        /* Basic page styling for readability */
        body {
            font-family: Arial, sans-serif;
            line-height: 1.5;
            margin: 0;
            padding: 20px;
            background-color: #f5f5f5;
        }
        h1 {
            text-align: center;
        }
        fieldset {
            margin-bottom: 20px;
            padding: 15px;
            border: 1px solid #ccc;
            background-color: #fff;
        }
        legend {
            font-weight: bold;
            padding: 0 5px;
        }
        label {
            display: block;
            margin: 10px 0 5px;
            font-weight: 600;
        }
        select, textarea {
            width: 100%;
            padding: 8px;
            margin-bottom: 10px;
            border: 1px solid #ccc;
            border-radius: 4px;
            box-sizing: border-box;
        }
        textarea {
            resize: vertical;
            min-height: 60px;
        }
        .print-button {
            display: block;
            margin: 30px auto;
            padding: 10px 20px;
            font-size: 1rem;
            background-color: #007bff;
            color: #fff;
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }
        .print-button:hover {
            background-color: #0056b3;
        }
        /* Tabs styling */
        .tab-container {
            display: flex;
            flex-wrap: wrap;
            margin-bottom: 20px;
        }
        .tab-container button {
            padding: 10px 15px;
            margin-right: 5px;
            background-color: #e0e0e0;
            border: none;
            border-radius: 4px 4px 0 0;
            cursor: pointer;
            font-weight: 600;
        }
        .tab-container button.active {
            background-color: #007bff;
            color: #fff;
        }
        .tab-content {
            display: none;
            border: 1px solid #ccc;
            padding: 15px;
            background-color: #fff;
            border-top: none;
        }
        .tab-content.active {
            display: block;
        }
        /* Summary container styling */
        #summary-container {
            margin-top: 20px;
            padding: 15px;
            background-color: #fff;
            border: 1px solid #ccc;
        }
        #summary-container pre {
            white-space: pre-wrap;
        }
        @media print {
            /* Hide the navigation and form when printing */
            .tab-container,
            form,
            .print-button {
                display: none !important;
            }
            /* Show the summary when printing */
            #summary-container {
                display: block !important;
            }
        }
    </style>
</head>
<body>
    <h1>Social Determinants of Health</h1>
    <!-- Tab navigation -->
    <div class="tab-container">
        <button type="button" class="tab-button active" onclick="openTab('tab-basic-info', this)">Basic Info</button>
        <button type="button" class="tab-button" onclick="openTab('tab-smoking', this)">Smoking</button>
        <button type="button" class="tab-button" onclick="openTab('tab-finance', this)">Finance</button>
        <button type="button" class="tab-button" onclick="openTab('tab-transport', this)">Transport Need</button>
        <button type="button" class="tab-button" onclick="openTab('tab-stress', this)">Stress</button>
        <button type="button" class="tab-button" onclick="openTab('tab-interpersonal-safety', this)">Interpersonal Safety</button>
        <button type="button" class="tab-button" onclick="openTab('tab-housing-safety', this)">Housing Safety</button>
        <button type="button" class="tab-button" onclick="openTab('tab-alcohol-use', this)">Alcohol Use</button>
        <button type="button" class="tab-button" onclick="openTab('tab-food-insecurity', this)">Food Insecurity</button>
        <button type="button" class="tab-button" onclick="openTab('tab-physical-activity', this)">Physical Activity</button>
        <button type="button" class="tab-button" onclick="openTab('tab-social-connection', this)">Social Connection</button>
        <button type="button" class="tab-button" onclick="openTab('tab-depression', this)">Depression</button>
        <button type="button" class="tab-button" onclick="openTab('tab-utilities', this)">Utilities</button>
        <button type="button" class="tab-button" onclick="openTab('tab-health-care-financial-barrier', this)">Health Care Financial Barrier</button>
        <button type="button" class="tab-button" onclick="openTab('tab-health-literacy', this)">Health Literacy</button>
        <button type="button" class="tab-button" onclick="openTab('tab-summary', this)">Summary</button>
    </div>
    <form id="sdoh-form">
        <!-- Basic Info Tab -->
        <div id="tab-basic-info" class="tab-content active">
            <fieldset>
                <legend>Basic Information</legend>
                <label for="patient-initial">Initials (enter only initials)</label>
                <input type="text" id="patient-initial" name="patient-initial" placeholder="Initials" required>
                <label for="patient-age">Age</label>
                <input type="number" id="patient-age" name="patient-age" placeholder="Age" min="0" required>
                <label for="patient-sex">Sex</label>
                <select id="patient-sex" name="patient-sex" required>
                    <option value="" disabled selected>Select</option>
                    <option value="Male">Male</option>
                    <option value="Female">Female</option>
                    <option value="Other">Other</option>
                </select>
                <label for="patient-insurance">Insurance</label>
                <select id="patient-insurance" name="patient-insurance" required>
                    <option value="" disabled selected>Select Insurance</option>
                    <option value="Medicaid">Medicaid</option>
                    <option value="Medicare">Medicare</option>
                    <option value="Private">Private</option>
                    <option value="Uninsured">Uninsured</option>
                    <option value="Other">Other</option>
                </select>
            </fieldset>
        </div>
        <!-- Smoking Tab -->
        <div id="tab-smoking" class="tab-content">
            <fieldset>
                <legend>Smoking</legend>
                <label for="smoking-status">Smoking status</label>
                <select id="smoking-status" name="smoking-status" required>
                    <option value="" disabled selected>Select an option</option>
                    <option value="Never smoked">Never smoked</option>
                    <option value="Former smoker">Former smoker</option>
                    <option value="Current smoker">Current smoker</option>
                    <option value="Heavy smoker">Heavy smoker</option>
                    <option value="Decline to specify">Decline to specify</option>
                </select>
                <label for="smoking-notes">Additional notes (optional)</label>
                <textarea id="smoking-notes" name="smoking-notes" placeholder="Describe any other smoking-related concerns..."></textarea>
            </fieldset>
        </div>
        <!-- Finance Tab -->
        <div id="tab-finance" class="tab-content">
            <fieldset>
                <legend>Finance</legend>
                <label for="finance-status">Ability to pay bills</label>
                <select id="finance-status" name="finance-status" required>
                    <option value="" disabled selected>Select an option</option>
                    <option value="Able to pay bills">Able to pay bills</option>
                    <option value="Hard to pay bills">Hard to pay bills</option>
                    <option value="Unable to pay rent/utilities/medications">Unable to pay rent/utilities/medications</option>
                    <option value="Needs help with benefits/resources">Needs help with benefits/resources</option>
                </select>
                <label for="finance-notes">Additional notes (optional)</label>
                <textarea id="finance-notes" name="finance-notes" placeholder="Describe any other financial concerns..."></textarea>
            </fieldset>
        </div>
        <!-- Transport Need Tab -->
        <div id="tab-transport" class="tab-content">
            <fieldset>
                <legend>Transport Need</legend>
                <label for="transport-status">Transportation access</label>
                <select id="transport-status" name="transport-status" required>
                    <option value="" disabled selected>Select an option</option>
                    <option value="Reliable transportation">Reliable transportation</option>
                    <option value="Missing appointments due to transportation">Missing appointments due to transportation</option>
                    <option value="Needs help with transit/ride programs">Needs help with transit/ride programs</option>
                </select>
                <label for="transport-notes">Additional notes (optional)</label>
                <textarea id="transport-notes" name="transport-notes" placeholder="Describe any other transportation concerns..."></textarea>
            </fieldset>
        </div>
        <!-- Stress Tab -->
        <div id="tab-stress" class="tab-content">
            <fieldset>
                <legend>Stress</legend>
                <label for="stress-status">Stress level</label>
                <select id="stress-status" name="stress-status" required>
                    <option value="" disabled selected>Select an option</option>
                    <option value="No stress">No stress</option>
                    <option value="Mild stress">Mild stress</option>
                    <option value="Moderate stress">Moderate stress</option>
                    <option value="High stress">High stress</option>
                    <option value="Extreme stress">Extreme stress</option>
                </select>
                <label for="stress-notes">Additional notes (optional)</label>
                <textarea id="stress-notes" name="stress-notes" placeholder="Describe any other stress-related concerns..."></textarea>
            </fieldset>
        </div>
        <!-- Interpersonal Safety Tab -->
        <div id="tab-interpersonal-safety" class="tab-content">
            <fieldset>
                <legend>Interpersonal Safety</legend>
                <label for="interpersonal-safety-status">Safety in relationships</label>
                <select id="interpersonal-safety-status" name="interpersonal-safety-status" required>
                    <option value="" disabled selected>Select an option</option>
                    <option value="Feels safe in relationships">Feels safe in relationships</option>
                    <option value="Concerns about violence at home">Concerns about violence at home</option>
                    <option value="Concerns about violence in relationships">Concerns about violence in relationships</option>
                    <option value="Needs interpersonal safety resources">Needs interpersonal safety resources</option>
                </select>
                <label for="interpersonal-safety-notes">Additional notes (optional)</label>
                <textarea id="interpersonal-safety-notes" name="interpersonal-safety-notes" placeholder="Describe any other interpersonal safety concerns..."></textarea>
            </fieldset>
        </div>
        <!-- Housing Safety Tab -->
        <div id="tab-housing-safety" class="tab-content">
            <fieldset>
                <legend>Housing Safety</legend>
                <label for="housing-safety-status">Housing status</label>
                <select id="housing-safety-status" name="housing-safety-status" required>
                    <option value="" disabled selected>Select an option</option>
                    <option value="Housing is safe">Housing is safe</option>
                    <option value="Risk of eviction">Risk of eviction</option>
                    <option value="Homeless or staying in shelter">Homeless or staying in shelter</option>
                    <option value="Unsafe housing (mold, pests, utilities off)">Unsafe housing (mold, pests, utilities off)</option>
                    <option value="Needs housing assistance">Needs housing assistance</option>
                </select>
                <label for="housing-safety-notes">Additional notes (optional)</label>
                <textarea id="housing-safety-notes" name="housing-safety-notes" placeholder="Describe any other housing safety concerns..."></textarea>
            </fieldset>
        </div>
        <!-- Alcohol Use Tab -->
        <div id="tab-alcohol-use" class="tab-content">
            <fieldset>
                <legend>Alcohol Use</legend>
                <label for="alcohol-use-status">Alcohol use</label>
                <select id="alcohol-use-status" name="alcohol-use-status" required>
                    <option value="" disabled selected>Select an option</option>
                    <option value="No alcohol use">No alcohol use</option>
                    <option value="Moderate alcohol use">Moderate alcohol use</option>
                    <option value="High alcohol use">High alcohol use</option>
                    <option value="Concerns about alcohol use">Concerns about alcohol use</option>
                    <option value="Needs referral for support">Needs referral for support</option>
                </select>
                <label for="alcohol-use-notes">Additional notes (optional)</label>
                <textarea id="alcohol-use-notes" name="alcohol-use-notes" placeholder="Describe any other alcohol use concerns..."></textarea>
            </fieldset>
        </div>
        <!-- Food Insecurity Tab -->
        <div id="tab-food-insecurity" class="tab-content">
            <fieldset>
                <legend>Food Insecurity</legend>
                <label for="food-insecurity-status">Food security</label>
                <select id="food-insecurity-status" name="food-insecurity-status" required>
                    <option value="" disabled selected>Select an option</option>
                    <option value="Enough food at home">Enough food at home</option>
                    <option value="Sometimes run out of food">Sometimes run out of food</option>
                    <option value="Often run out of food">Often run out of food</option>
                    <option value="Needs help accessing food programs">Needs help accessing food programs</option>
                </select>
                <label for="food-insecurity-notes">Additional notes (optional)</label>
                <textarea id="food-insecurity-notes" name="food-insecurity-notes" placeholder="Describe any other food concerns..."></textarea>
            </fieldset>
        </div>
        <!-- Physical Activity Tab -->
        <div id="tab-physical-activity" class="tab-content">
            <fieldset>
                <legend>Physical Activity</legend>
                <label for="physical-activity-status">Physical activity level</label>
                <select id="physical-activity-status" name="physical-activity-status" required>
                    <option value="" disabled selected>Select an option</option>
                    <option value="Regular physical activity">Regular physical activity</option>
                    <option value="Some physical activity">Some physical activity</option>
                    <option value="Little or no physical activity">Little or no physical activity</option>
                    <option value="Unable to exercise due to condition">Unable to exercise due to condition</option>
                </select>
                <label for="physical-activity-notes">Additional notes (optional)</label>
                <textarea id="physical-activity-notes" name="physical-activity-notes" placeholder="Describe any other physical activity concerns..."></textarea>
            </fieldset>
        </div>
        <!-- Social Connection Tab -->
        <div id="tab-social-connection" class="tab-content">
            <fieldset>
                <legend>Social Connection</legend>
                <label for="social-connection-status">Social support</label>
                <select id="social-connection-status" name="social-connection-status" required>
                    <option value="" disabled selected>Select an option</option>
                    <option value="Strong social support">Strong social support</option>
                    <option value="Limited social support">Limited social support</option>
                    <option value="Socially isolated">Socially isolated</option>
                    <option value="Needs help connecting with community services">Needs help connecting with community services</option>
                </select>
                <label for="social-connection-notes">Additional notes (optional)</label>
                <textarea id="social-connection-notes" name="social-connection-notes" placeholder="Describe any other social connection concerns..."></textarea>
            </fieldset>
        </div>
        <!-- Depression Tab -->
        <div id="tab-depression" class="tab-content">
            <fieldset>
                <legend>Depression</legend>
                <label for="depression-status">Depression level</label>
                <select id="depression-status" name="depression-status" required>
                    <option value="" disabled selected>Select an option</option>
                    <option value="Not depressed">Not depressed</option>
                    <option value="Mild depression">Mild depression</option>
                    <option value="Moderate depression">Moderate depression</option>
                    <option value="Severe depression">Severe depression</option>
                    <option value="Needs mental health support">Needs mental health support</option>
                </select>
                <label for="depression-notes">Additional notes (optional)</label>
                <textarea id="depression-notes" name="depression-notes" placeholder="Describe any other depression-related concerns..."></textarea>
            </fieldset>
        </div>
        <!-- Utilities Tab -->
        <div id="tab-utilities" class="tab-content">
            <fieldset>
                <legend>Utilities</legend>
                <label for="utilities-status">Utility situation</label>
                <select id="utilities-status" name="utilities-status" required>
                    <option value="" disabled selected>Select an option</option>
                    <option value="Utilities working">Utilities working</option>
                    <option value="Risk of shutoff">Risk of shutoff</option>
                    <option value="Shutoff in past 12 months">Shutoff in past 12 months</option>
                    <option value="Needs utility assistance">Needs utility assistance</option>
                </select>
                <label for="utilities-notes">Additional notes (optional)</label>
                <textarea id="utilities-notes" name="utilities-notes" placeholder="Describe any other utility concerns..."></textarea>
            </fieldset>
        </div>

        <!-- Health Care Financial Barrier Tab -->
        <div id="tab-health-care-financial-barrier" class="tab-content">
            <fieldset>
                <legend>Health Care Related Financial Barrier</legend>
                <label for="health-care-financial-barrier-status">Barrier type</label>
                <select id="health-care-financial-barrier-status" name="health-care-financial-barrier-status" required>
                    <option value="" disabled selected>Select an option</option>
                    <option value="Unable to afford medication">Unable to afford medication</option>
                    <option value="Unable to afford imaging">Unable to afford imaging</option>
                    <option value="Unable to afford follow-up">Unable to afford follow-up</option>
                    <option value="Decline to specify">Decline to specify</option>
                </select>
                <label for="health-care-financial-barrier-notes">Additional notes (optional)</label>
                <textarea id="health-care-financial-barrier-notes" name="health-care-financial-barrier-notes" placeholder="Describe any other financial barriers..."></textarea>
            </fieldset>
        </div>

        <!-- Health Literacy Tab -->
        <div id="tab-health-literacy" class="tab-content">
            <fieldset>
                <legend>Health Literacy</legend>
                <label for="health-literacy-status">Ability to understand health information</label>
                <select id="health-literacy-status" name="health-literacy-status" required>
                    <option value="" disabled selected>Select an option</option>
                    <option value="Understands health information easily">Understands health information easily</option>
                    <option value="Sometimes needs help understanding health information">Sometimes needs help understanding health information</option>
                    <option value="Often has difficulty understanding health information">Often has difficulty understanding health information</option>
                    <option value="Uses translator or interpreter for health information">Uses translator or interpreter for health information</option>
                    <option value="Decline to specify">Decline to specify</option>
                </select>
                <label for="health-literacy-notes">Additional notes (optional)</label>
                <textarea id="health-literacy-notes" name="health-literacy-notes" placeholder="Describe any other health literacy concerns..."></textarea>
            </fieldset>
        </div>

        <!-- Summary Tab -->
        <div id="tab-summary" class="tab-content">
            <fieldset>
                <legend>Summary of Responses</legend>
                <p>The information below summarizes the responses entered for each section. Review before printing.</p>
                <pre id="summary-tab-pre"></pre>
                <button type="button" class="print-button" onclick="printSummary()">Print Summary</button>
            </fieldset>
        </div>
        <button type="button" class="print-button" onclick="printSummary()">Print Summary</button>
    </form>
    <!-- Summary section (hidden until printing) -->
    <div id="summary-container" style="display: none;">
        <h2>Summary</h2>
        <pre id="summary-content"></pre>
    </div>
    <script>
        // Tab switching logic using openTab function
        function openTab(tabId, buttonElement) {
            const tabButtons = document.querySelectorAll('.tab-container .tab-button');
            const tabContents = document.querySelectorAll('.tab-content');
            tabButtons.forEach(btn => btn.classList.remove('active'));
            tabContents.forEach(content => content.classList.remove('active'));
            if (buttonElement) {
                buttonElement.classList.add('active');
            }
            const target = document.getElementById(tabId);
            if (target) {
                target.classList.add('active');
            }

            // If opening the summary tab, update the summary content
            if (tabId === 'tab-summary') {
                updateSummaryTab();
            }
        }
        // Update the summary tab with the latest responses
        function updateSummaryTab() {
            const summaryText = generateSummary();
            const summaryTabPre = document.getElementById('summary-tab-pre');
            if (summaryTabPre) {
                summaryTabPre.textContent = summaryText;
            }
        }
        // Generate a summary of the questionnaire responses
        function generateSummary() {
            const initialElem = document.getElementById('patient-initial');
            const ageElem = document.getElementById('patient-age');
            const sexElem = document.getElementById('patient-sex');
            const insuranceElem = document.getElementById('patient-insurance');
            const initial = initialElem ? initialElem.value : '';
            const age = ageElem ? ageElem.value : '';
            const sex = sexElem ? sexElem.value : '';
            const insurance = insuranceElem ? insuranceElem.value : '';
            let summary = '';
            summary += 'Initials: ' + initial + '\n';
            summary += 'Age: ' + age + '\n';
            summary += 'Sex: ' + sex + '\n';
            summary += 'Insurance: ' + insurance + '\n\n';
            const sections = [
                {id: 'smoking', label: 'Smoking'},
                {id: 'finance', label: 'Finance'},
                {id: 'transport', label: 'Transport Need'},
                {id: 'stress', label: 'Stress'},
                {id: 'interpersonal-safety', label: 'Interpersonal Safety'},
                {id: 'housing-safety', label: 'Housing Safety'},
                {id: 'alcohol-use', label: 'Alcohol Use'},
                {id: 'food-insecurity', label: 'Food Insecurity'},
                {id: 'physical-activity', label: 'Physical Activity'},
                {id: 'social-connection', label: 'Social Connection'},
                {id: 'depression', label: 'Depression'},
                {id: 'utilities', label: 'Utilities'},
                {id: 'health-care-financial-barrier', label: 'Health Care Financial Barrier'},
                {id: 'health-literacy', label: 'Health Literacy'}
            ];
            sections.forEach(section => {
                const selectElem = document.getElementById(section.id + '-status');
                const notesElem = document.getElementById(section.id + '-notes');
                if (selectElem && selectElem.value && selectElem.value !== '') {
                    summary += section.label + ': ' + selectElem.value;
                    if (notesElem && notesElem.value.trim() !== '') {
                        summary += ' | Notes: ' + notesElem.value.trim();
                    }
                    summary += '\n';
                }
            });
            return summary;
        }
        // Print only the summary and basic info
        function printSummary() {
            const summaryText = generateSummary();
            const summaryContentElem = document.getElementById('summary-content');
            if (summaryContentElem) {
                summaryContentElem.textContent = summaryText;
            }
            const summaryContainerElem = document.getElementById('summary-container');
            if (summaryContainerElem) {
                summaryContainerElem.style.display = 'block';
            }
            // Trigger print
            window.print();
            // Hide after printing
            if (summaryContainerElem) {
                summaryContainerElem.style.display = 'none';
            }
        }
    </script>
</body>
</html>